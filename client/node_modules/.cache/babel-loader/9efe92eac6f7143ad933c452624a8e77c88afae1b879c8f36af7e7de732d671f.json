{"ast":null,"code":"import moment from \"moment\";\nimport { request } from \"../../utils/axios\";\nexport const uploadImg = async file => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  const res = await request.post('/upload/post/', formData);\n  return res.data;\n};\nexport const getComments = async post_id => {\n  const res = await request.get('/comments', {\n    params: {\n      post_id\n    }\n  });\n  return res.data;\n};\nexport const createPost = async (data, user_id) => {\n  const {\n    title,\n    description,\n    ingredients,\n    file\n  } = data;\n  const fileUrl = file[0] ? await uploadImg(file[0]) : '';\n  const postObj = {\n    user_id,\n    title,\n    description,\n    ingredients: JSON.stringify(ingredients),\n    date: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n    file: fileUrl\n  };\n  return await request.post('/posts/', postObj);\n};\nexport const deletePost = async id => await request.delete('/posts', {\n  data: {\n    id\n  }\n});\nexport const getLikes = async post_id => {\n  const res = await request.get('/likes', {\n    params: {\n      post_id\n    }\n  });\n  return res.data;\n};\nexport const createLike = async _ref => {\n  let {\n    post_id,\n    user_id\n  } = _ref;\n  return await request.post('/likes', {\n    post_id,\n    user_id\n  });\n};\nexport const deleteLike = async _ref2 => {\n  let {\n    post_id,\n    user_id\n  } = _ref2;\n  return await request.delete('/likes', {\n    data: {\n      post_id,\n      user_id\n    }\n  });\n};","map":{"version":3,"names":["moment","request","uploadImg","file","formData","FormData","append","res","post","data","getComments","post_id","get","params","createPost","user_id","title","description","ingredients","fileUrl","postObj","JSON","stringify","date","format","deletePost","id","delete","getLikes","createLike","deleteLike"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/containers/post/postService.js"],"sourcesContent":["import moment from \"moment\";\r\nimport { request } from \"../../utils/axios\";\r\n\r\nexport const uploadImg = async (file) => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    const res = await request.post('/upload/post/', formData);\r\n    return res.data;\r\n}\r\n\r\nexport const getComments = async (post_id) => {\r\n    const res = await request.get('/comments', {\r\n        params: {\r\n            post_id,\r\n        }\r\n    })\r\n    return res.data;        \r\n}\r\n\r\nexport const createPost = async (data, user_id) => {\r\n    const { title, description, ingredients, file } = data;\r\n    const fileUrl = file[0] ? await uploadImg(file[0]) : '';\r\n    const postObj = {\r\n        user_id,\r\n        title,\r\n        description,\r\n        ingredients: JSON.stringify(ingredients),\r\n        date: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n        file: fileUrl\r\n    }\r\n    return await request.post('/posts/', postObj);\r\n}\r\n\r\nexport const deletePost = async id => \r\n    await request.delete('/posts', {\r\n            data: { id }\r\n        })\r\n\r\nexport const getLikes = async (post_id) => {\r\n    const res = await request.get('/likes', {\r\n        params: {\r\n            post_id,\r\n        }\r\n    })\r\n    return res.data;\r\n}\r\n\r\nexport const createLike = async ({ post_id, user_id }) => \r\n    await request.post('/likes', {\r\n        post_id,\r\n        user_id\r\n    })\r\n\r\nexport const deleteLike = async ({ post_id, user_id }) => \r\n    await request.delete('/likes', {\r\n        data: {\r\n            post_id,\r\n            user_id\r\n    }})\r\n\r\n\r\n"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,OAAO,QAAQ,mBAAmB;AAE3C,OAAO,MAAMC,SAAS,GAAG,MAAOC,IAAI,IAAK;EACrC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,MAAMI,GAAG,GAAG,MAAMN,OAAO,CAACO,IAAI,CAAC,eAAe,EAAEJ,QAAQ,CAAC;EACzD,OAAOG,GAAG,CAACE,IAAI;AACnB,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAOC,OAAO,IAAK;EAC1C,MAAMJ,GAAG,GAAG,MAAMN,OAAO,CAACW,GAAG,CAAC,WAAW,EAAE;IACvCC,MAAM,EAAE;MACJF;IACJ;EACJ,CAAC,CAAC;EACF,OAAOJ,GAAG,CAACE,IAAI;AACnB,CAAC;AAED,OAAO,MAAMK,UAAU,GAAG,OAAOL,IAAI,EAAEM,OAAO,KAAK;EAC/C,MAAM;IAAEC,KAAK;IAAEC,WAAW;IAAEC,WAAW;IAAEf;EAAK,CAAC,GAAGM,IAAI;EACtD,MAAMU,OAAO,GAAGhB,IAAI,CAAC,CAAC,CAAC,GAAG,MAAMD,SAAS,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;EACvD,MAAMiB,OAAO,GAAG;IACZL,OAAO;IACPC,KAAK;IACLC,WAAW;IACXC,WAAW,EAAEG,IAAI,CAACC,SAAS,CAACJ,WAAW,CAAC;IACxCK,IAAI,EAAEvB,MAAM,EAAE,CAACwB,MAAM,CAAC,qBAAqB,CAAC;IAC5CrB,IAAI,EAAEgB;EACV,CAAC;EACD,OAAO,MAAMlB,OAAO,CAACO,IAAI,CAAC,SAAS,EAAEY,OAAO,CAAC;AACjD,CAAC;AAED,OAAO,MAAMK,UAAU,GAAG,MAAMC,EAAE,IAC9B,MAAMzB,OAAO,CAAC0B,MAAM,CAAC,QAAQ,EAAE;EACvBlB,IAAI,EAAE;IAAEiB;EAAG;AACf,CAAC,CAAC;AAEV,OAAO,MAAME,QAAQ,GAAG,MAAOjB,OAAO,IAAK;EACvC,MAAMJ,GAAG,GAAG,MAAMN,OAAO,CAACW,GAAG,CAAC,QAAQ,EAAE;IACpCC,MAAM,EAAE;MACJF;IACJ;EACJ,CAAC,CAAC;EACF,OAAOJ,GAAG,CAACE,IAAI;AACnB,CAAC;AAED,OAAO,MAAMoB,UAAU,GAAG;EAAA,IAAO;IAAElB,OAAO;IAAEI;EAAQ,CAAC;EAAA,OACjD,MAAMd,OAAO,CAACO,IAAI,CAAC,QAAQ,EAAE;IACzBG,OAAO;IACPI;EACJ,CAAC,CAAC;AAAA;AAEN,OAAO,MAAMe,UAAU,GAAG;EAAA,IAAO;IAAEnB,OAAO;IAAEI;EAAQ,CAAC;EAAA,OACjD,MAAMd,OAAO,CAAC0B,MAAM,CAAC,QAAQ,EAAE;IAC3BlB,IAAI,EAAE;MACFE,OAAO;MACPI;IACR;EAAC,CAAC,CAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}