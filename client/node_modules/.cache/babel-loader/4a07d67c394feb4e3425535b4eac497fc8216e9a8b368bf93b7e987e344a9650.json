{"ast":null,"code":"import axios from \"axios\";\nimport moment from \"moment\";\nimport { postImgURL, postURL } from \"../utils/constants\";\nexport const uploadImg = async file => {\n  const formData = new FormData();\n  formData.append(\"file\", file);\n  const res = await axios.post(postImgURL, formData);\n  return res.data;\n};\nexport const createPost = async (data, user_id) => {\n  const {\n    title,\n    description,\n    ingredients,\n    file\n  } = data;\n  const fileUrl = file[0] ? await uploadImg(file[0]) : '';\n  const postObj = {\n    user_id,\n    title,\n    description,\n    ingredients: JSON.stringify(ingredients),\n    date: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n    file: fileUrl\n  };\n  return await axios.post(postURL, postObj);\n};\nexport const deletePost = async id => {\n  return await axios.delete(postURL, {\n    data: {\n      id\n    }\n  });\n};\nexport const getUserPostsById = async id => {\n  const res = await axios.get(postURL + id);\n  return res.data;\n};\nexport const getPostsById = async id => axios.get(postURL, {\n  params: {\n    id\n  }\n}).then(res => res.data.map(post => ({\n  ...post,\n  ingredients: JSON.parse(post.ingredients),\n  date: moment(post.date).format('YYYY-MM-DD HH:mm:ss')\n})));","map":{"version":3,"names":["axios","moment","postImgURL","postURL","uploadImg","file","formData","FormData","append","res","post","data","createPost","user_id","title","description","ingredients","fileUrl","postObj","JSON","stringify","date","format","deletePost","id","delete","getUserPostsById","get","getPostsById","params","then","map","parse"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/services/postsService.js"],"sourcesContent":["import axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport { postImgURL, postURL } from \"../utils/constants\";\r\n\r\nexport const uploadImg = async (file) => {\r\n    const formData = new FormData();\r\n    formData.append(\"file\", file);\r\n    const res = await axios.post(postImgURL, formData);\r\n    return res.data;\r\n}\r\n\r\nexport const createPost = async (data, user_id) => {\r\n    const { title, description, ingredients, file } = data;\r\n    const fileUrl = file[0] ? await uploadImg(file[0]) : '';\r\n    const postObj = {\r\n        user_id,\r\n        title,\r\n        description,\r\n        ingredients: JSON.stringify(ingredients),\r\n        date: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n        file: fileUrl\r\n    }\r\n    return await axios.post(postURL, postObj);\r\n}\r\n\r\nexport const deletePost = async id => {\r\n    return await axios.delete(postURL, {\r\n            data: { id }\r\n        })\r\n}\r\n\r\nexport const getUserPostsById = async(id) => {\r\n    const res = await axios.get(postURL + id);\r\n    return res.data;\r\n}\r\n\r\nexport const getPostsById = async(id) => \r\n    axios.get(postURL, {\r\n        params: {\r\n            id\r\n        }\r\n    }).then(res => res.data.map(post => ({\r\n            ...post, \r\n            ingredients: JSON.parse(post.ingredients),\r\n            date: moment(post.date).format('YYYY-MM-DD HH:mm:ss')\r\n    })\r\n))\r\n\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,QAAQ;AAC3B,SAASC,UAAU,EAAEC,OAAO,QAAQ,oBAAoB;AAExD,OAAO,MAAMC,SAAS,GAAG,MAAOC,IAAI,IAAK;EACrC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;EAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;EAC7B,MAAMI,GAAG,GAAG,MAAMT,KAAK,CAACU,IAAI,CAACR,UAAU,EAAEI,QAAQ,CAAC;EAClD,OAAOG,GAAG,CAACE,IAAI;AACnB,CAAC;AAED,OAAO,MAAMC,UAAU,GAAG,OAAOD,IAAI,EAAEE,OAAO,KAAK;EAC/C,MAAM;IAAEC,KAAK;IAAEC,WAAW;IAAEC,WAAW;IAAEX;EAAK,CAAC,GAAGM,IAAI;EACtD,MAAMM,OAAO,GAAGZ,IAAI,CAAC,CAAC,CAAC,GAAG,MAAMD,SAAS,CAACC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;EACvD,MAAMa,OAAO,GAAG;IACZL,OAAO;IACPC,KAAK;IACLC,WAAW;IACXC,WAAW,EAAEG,IAAI,CAACC,SAAS,CAACJ,WAAW,CAAC;IACxCK,IAAI,EAAEpB,MAAM,EAAE,CAACqB,MAAM,CAAC,qBAAqB,CAAC;IAC5CjB,IAAI,EAAEY;EACV,CAAC;EACD,OAAO,MAAMjB,KAAK,CAACU,IAAI,CAACP,OAAO,EAAEe,OAAO,CAAC;AAC7C,CAAC;AAED,OAAO,MAAMK,UAAU,GAAG,MAAMC,EAAE,IAAI;EAClC,OAAO,MAAMxB,KAAK,CAACyB,MAAM,CAACtB,OAAO,EAAE;IAC3BQ,IAAI,EAAE;MAAEa;IAAG;EACf,CAAC,CAAC;AACV,CAAC;AAED,OAAO,MAAME,gBAAgB,GAAG,MAAMF,EAAE,IAAK;EACzC,MAAMf,GAAG,GAAG,MAAMT,KAAK,CAAC2B,GAAG,CAACxB,OAAO,GAAGqB,EAAE,CAAC;EACzC,OAAOf,GAAG,CAACE,IAAI;AACnB,CAAC;AAED,OAAO,MAAMiB,YAAY,GAAG,MAAMJ,EAAE,IAChCxB,KAAK,CAAC2B,GAAG,CAACxB,OAAO,EAAE;EACf0B,MAAM,EAAE;IACJL;EACJ;AACJ,CAAC,CAAC,CAACM,IAAI,CAACrB,GAAG,IAAIA,GAAG,CAACE,IAAI,CAACoB,GAAG,CAACrB,IAAI,KAAK;EAC7B,GAAGA,IAAI;EACPM,WAAW,EAAEG,IAAI,CAACa,KAAK,CAACtB,IAAI,CAACM,WAAW,CAAC;EACzCK,IAAI,EAAEpB,MAAM,CAACS,IAAI,CAACW,IAAI,CAAC,CAACC,MAAM,CAAC,qBAAqB;AAC5D,CAAC,CAAC,CACL,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}