{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMutation, useQueryClient } from \"@tanstack/react-query\";\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/authContext\";\nimport { request } from \"../../utils/axios\";\nexport const useMutateFollow = user => {\n  _s();\n  const queryClient = useQueryClient();\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const unfollowMutation = useMutation(() => request.delete('/follow', {\n    data: {\n      follower_user_id: currentUser.id,\n      followed_user_id: user.id\n    }\n  }), {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['follow']);\n    }\n  });\n  const followMutation = useMutation(() => request.post('/follow', {\n    follower_user_id: currentUser.id,\n    followed_user_id: user.id\n  }), {\n    onSuccess: () => {\n      queryClient.invalidateQueries(['follow']);\n    }\n  });\n  return {\n    isFollowed: data,\n    unfollow: () => unfollowMutation.mutate(),\n    follow: () => followMutation.mutate()\n  };\n};\n_s(useMutateFollow, \"Qf67Lj3oHL+I1s79OrQWiLOWmB0=\", false, function () {\n  return [useQueryClient, useMutation, useMutation];\n});","map":{"version":3,"names":["useMutation","useQueryClient","useContext","AuthContext","request","useMutateFollow","user","queryClient","currentUser","unfollowMutation","delete","data","follower_user_id","id","followed_user_id","onSuccess","invalidateQueries","followMutation","post","isFollowed","unfollow","mutate","follow"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/containers/profile/useMutateFollow.js"],"sourcesContent":["import { useMutation, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts/authContext\";\r\nimport { request } from \"../../utils/axios\";\r\n\r\nexport const useMutateFollow = (user) => {\r\n    const queryClient = useQueryClient();\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const unfollowMutation = useMutation(\r\n        () => request.delete('/follow', {\r\n            data: {\r\n                follower_user_id: currentUser.id,\r\n                followed_user_id: user.id\r\n            }\r\n        }), {\r\n            onSuccess: () => {\r\n                queryClient.invalidateQueries(['follow'])\r\n            }\r\n        }\r\n    );\r\n\r\n    const followMutation = useMutation(\r\n        () => request.post('/follow', {\r\n            follower_user_id: currentUser.id,\r\n            followed_user_id: user.id\r\n        }), {\r\n            onSuccess: () => {\r\n                queryClient.invalidateQueries(['follow'])\r\n            }\r\n        }\r\n    );\r\n\r\n    return { \r\n        isFollowed: data, \r\n        unfollow: () => unfollowMutation.mutate(),\r\n        follow: () => followMutation.mutate()\r\n     }\r\n\r\n}"],"mappings":";AAAA,SAASA,WAAW,EAAEC,cAAc,QAAQ,uBAAuB;AACnE,SAASC,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,OAAO,QAAQ,mBAAmB;AAE3C,OAAO,MAAMC,eAAe,GAAIC,IAAI,IAAK;EAAA;EACrC,MAAMC,WAAW,GAAGN,cAAc,EAAE;EACpC,MAAM;IAAEO;EAAY,CAAC,GAAGN,UAAU,CAACC,WAAW,CAAC;EAE/C,MAAMM,gBAAgB,GAAGT,WAAW,CAChC,MAAMI,OAAO,CAACM,MAAM,CAAC,SAAS,EAAE;IAC5BC,IAAI,EAAE;MACFC,gBAAgB,EAAEJ,WAAW,CAACK,EAAE;MAChCC,gBAAgB,EAAER,IAAI,CAACO;IAC3B;EACJ,CAAC,CAAC,EAAE;IACAE,SAAS,EAAE,MAAM;MACbR,WAAW,CAACS,iBAAiB,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC7C;EACJ,CAAC,CACJ;EAED,MAAMC,cAAc,GAAGjB,WAAW,CAC9B,MAAMI,OAAO,CAACc,IAAI,CAAC,SAAS,EAAE;IAC1BN,gBAAgB,EAAEJ,WAAW,CAACK,EAAE;IAChCC,gBAAgB,EAAER,IAAI,CAACO;EAC3B,CAAC,CAAC,EAAE;IACAE,SAAS,EAAE,MAAM;MACbR,WAAW,CAACS,iBAAiB,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC7C;EACJ,CAAC,CACJ;EAED,OAAO;IACHG,UAAU,EAAER,IAAI;IAChBS,QAAQ,EAAE,MAAMX,gBAAgB,CAACY,MAAM,EAAE;IACzCC,MAAM,EAAE,MAAML,cAAc,CAACI,MAAM;EACtC,CAAC;AAEN,CAAC;AAAA,GAlCYhB,eAAe;EAAA,QACJJ,cAAc,EAGTD,WAAW,EAabA,WAAW;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}