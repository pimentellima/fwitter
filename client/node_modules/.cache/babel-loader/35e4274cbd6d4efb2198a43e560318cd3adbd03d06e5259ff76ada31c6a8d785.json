{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { AuthContext } from \"../../contexts/authContext\";\nimport { request } from \"../../utils/axios\";\nexport const useUpdateUser = _ref => {\n  _s();\n  let {\n    onSuccess\n  } = _ref;\n  const {\n    currentUser\n  } = useContext(AuthContext);\n  const uploadProfileImage = async file => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await request.post('/upload/userProfile', formData);\n    return res.data;\n  };\n  const uploadBackgroundImage = async file => {\n    const formData = new FormData();\n    formData.append(\"file\", file);\n    const res = await request.post('/upload/userBackground', formData);\n    return res.data;\n  };\n  const updateUser = async data => {\n    const {\n      name,\n      bio,\n      profile_img,\n      profile_bg_img\n    } = data;\n    const profileImageUrl = profile_img[0] ? await uploadProfileImage(profile_img[0]) : currentUser.profile_img;\n    const backgroundImageUrl = profile_bg_img[0] ? await uploadBackgroundImage(profile_bg_img[0]) : currentUser.profile_bg_img;\n    const user = {\n      name,\n      username: currentUser.username,\n      bio,\n      id: currentUser.id,\n      profile_img: profileImageUrl,\n      profile_bg_img: backgroundImageUrl\n    };\n    return request.post('/user', user).then(() => user);\n  };\n  return updateUser;\n};\n_s(useUpdateUser, \"3CHVfvdogVMdIKctk02PXQKNcBM=\");","map":{"version":3,"names":["useContext","AuthContext","request","useUpdateUser","onSuccess","currentUser","uploadProfileImage","file","formData","FormData","append","res","post","data","uploadBackgroundImage","updateUser","name","bio","profile_img","profile_bg_img","profileImageUrl","backgroundImageUrl","user","username","id","then"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/containers/profile/useUpdateUser.js"],"sourcesContent":["import { useContext } from \"react\";\r\nimport { AuthContext } from \"../../contexts/authContext\";\r\nimport { request } from \"../../utils/axios\";\r\n\r\nexport const useUpdateUser = ({ onSuccess }) => {\r\n    const { currentUser } = useContext(AuthContext);\r\n\r\n    const uploadProfileImage = async (file) => {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        const res = await request.post('/upload/userProfile', formData);\r\n        return res.data;\r\n    }\r\n    \r\n    const uploadBackgroundImage = async (file) => {\r\n        const formData = new FormData();\r\n        formData.append(\"file\", file);\r\n        const res = await request.post('/upload/userBackground', formData);\r\n        return res.data;\r\n    }\r\n    \r\n    const updateUser = async data => {\r\n        const { name, bio, profile_img, profile_bg_img } = data;\r\n        const profileImageUrl = profile_img[0] ? \r\n            await uploadProfileImage(profile_img[0]) \r\n            : \r\n            currentUser.profile_img;\r\n\r\n        const backgroundImageUrl = profile_bg_img[0] ? \r\n            await uploadBackgroundImage(profile_bg_img[0]) \r\n            : \r\n            currentUser.profile_bg_img;\r\n    \r\n        const user = {\r\n            name,\r\n            username: currentUser.username,\r\n            bio,\r\n            id: currentUser.id,\r\n            profile_img: profileImageUrl,\r\n            profile_bg_img: backgroundImageUrl\r\n        };\r\n        \r\n        return request.post('/user', user).then(() => user);\r\n    }\r\n\r\n    return updateUser;\r\n}\r\n\r\n\r\n\r\n\r\n"],"mappings":";AAAA,SAASA,UAAU,QAAQ,OAAO;AAClC,SAASC,WAAW,QAAQ,4BAA4B;AACxD,SAASC,OAAO,QAAQ,mBAAmB;AAE3C,OAAO,MAAMC,aAAa,GAAG,QAAmB;EAAA;EAAA,IAAlB;IAAEC;EAAU,CAAC;EACvC,MAAM;IAAEC;EAAY,CAAC,GAAGL,UAAU,CAACC,WAAW,CAAC;EAE/C,MAAMK,kBAAkB,GAAG,MAAOC,IAAI,IAAK;IACvC,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAC7B,MAAMI,GAAG,GAAG,MAAMT,OAAO,CAACU,IAAI,CAAC,qBAAqB,EAAEJ,QAAQ,CAAC;IAC/D,OAAOG,GAAG,CAACE,IAAI;EACnB,CAAC;EAED,MAAMC,qBAAqB,GAAG,MAAOP,IAAI,IAAK;IAC1C,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,IAAI,CAAC;IAC7B,MAAMI,GAAG,GAAG,MAAMT,OAAO,CAACU,IAAI,CAAC,wBAAwB,EAAEJ,QAAQ,CAAC;IAClE,OAAOG,GAAG,CAACE,IAAI;EACnB,CAAC;EAED,MAAME,UAAU,GAAG,MAAMF,IAAI,IAAI;IAC7B,MAAM;MAAEG,IAAI;MAAEC,GAAG;MAAEC,WAAW;MAAEC;IAAe,CAAC,GAAGN,IAAI;IACvD,MAAMO,eAAe,GAAGF,WAAW,CAAC,CAAC,CAAC,GAClC,MAAMZ,kBAAkB,CAACY,WAAW,CAAC,CAAC,CAAC,CAAC,GAExCb,WAAW,CAACa,WAAW;IAE3B,MAAMG,kBAAkB,GAAGF,cAAc,CAAC,CAAC,CAAC,GACxC,MAAML,qBAAqB,CAACK,cAAc,CAAC,CAAC,CAAC,CAAC,GAE9Cd,WAAW,CAACc,cAAc;IAE9B,MAAMG,IAAI,GAAG;MACTN,IAAI;MACJO,QAAQ,EAAElB,WAAW,CAACkB,QAAQ;MAC9BN,GAAG;MACHO,EAAE,EAAEnB,WAAW,CAACmB,EAAE;MAClBN,WAAW,EAAEE,eAAe;MAC5BD,cAAc,EAAEE;IACpB,CAAC;IAED,OAAOnB,OAAO,CAACU,IAAI,CAAC,OAAO,EAAEU,IAAI,CAAC,CAACG,IAAI,CAAC,MAAMH,IAAI,CAAC;EACvD,CAAC;EAED,OAAOP,UAAU;AACrB,CAAC;AAAA,GA1CYZ,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}