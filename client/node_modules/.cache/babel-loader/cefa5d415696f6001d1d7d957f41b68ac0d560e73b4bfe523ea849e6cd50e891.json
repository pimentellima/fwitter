{"ast":null,"code":"var _s2 = $RefreshSig$();\nimport { useQuery } from \"@tanstack/react-query\";\nimport { useGetPostByIdQuery } from \"./useGetPostByIdQuery\";\nexport const useGetThreadQuery = _ref => {\n  _s2();\n  var _s = $RefreshSig$();\n  let {\n    id\n  } = _ref;\n  const getPostThread = async id => {\n    _s();\n    const posts = [];\n    const {\n      data: post\n    } = useGetPostByIdQuery({\n      id\n    });\n    while (post.parent_id) {\n      const {\n        data: post\n      } = useGetPostByIdQuery({\n        id: post.parent_id\n      });\n      posts.unshift(post);\n    }\n    return posts;\n  };\n  _s(getPostThread, \"xMDIyvBZ6KgdVwPtl/caCnVUlFE=\", false, function () {\n    return [useGetPostByIdQuery, useGetPostByIdQuery];\n  });\n  return useQuery(['postThread', {\n    id\n  }], () => getPostThread(id), {\n    enabled: !!id\n  });\n};\n_s2(useGetThreadQuery, \"4ZpngI1uv+Uo3WQHEZmTQ5FNM+k=\", false, function () {\n  return [useQuery];\n});","map":{"version":3,"names":["useQuery","useGetPostByIdQuery","useGetThreadQuery","id","getPostThread","posts","data","post","parent_id","unshift","enabled"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/containers/post/useGetThreadQuery.js"],"sourcesContent":["import { useQuery } from \"@tanstack/react-query\";\r\nimport { useGetPostByIdQuery } from \"./useGetPostByIdQuery\";\r\n\r\nexport const useGetThreadQuery = ({ id }) => {\r\n\r\n    const getPostThread = async id => {\r\n        const posts = [];\r\n        const { data: post } = useGetPostByIdQuery({ id });\r\n        while(post.parent_id) {\r\n            const { data: post } = useGetPostByIdQuery({ id: post.parent_id });\r\n            posts.unshift(post);\r\n        }\r\n        return posts;\r\n    }\r\n    \r\n    return useQuery(['postThread', { id }], () => \r\n        getPostThread(id), {\r\n            enabled: !!id\r\n        }); \r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,mBAAmB,QAAQ,uBAAuB;AAE3D,OAAO,MAAMC,iBAAiB,GAAG,QAAY;EAAA;EAAA;EAAA,IAAX;IAAEC;EAAG,CAAC;EAEpC,MAAMC,aAAa,GAAG,MAAMD,EAAE,IAAI;IAAA;IAC9B,MAAME,KAAK,GAAG,EAAE;IAChB,MAAM;MAAEC,IAAI,EAAEC;IAAK,CAAC,GAAGN,mBAAmB,CAAC;MAAEE;IAAG,CAAC,CAAC;IAClD,OAAMI,IAAI,CAACC,SAAS,EAAE;MAClB,MAAM;QAAEF,IAAI,EAAEC;MAAK,CAAC,GAAGN,mBAAmB,CAAC;QAAEE,EAAE,EAAEI,IAAI,CAACC;MAAU,CAAC,CAAC;MAClEH,KAAK,CAACI,OAAO,CAACF,IAAI,CAAC;IACvB;IACA,OAAOF,KAAK;EAChB,CAAC;EAAA,GARKD,aAAa;IAAA,QAEQH,mBAAmB,EAEfA,mBAAmB;EAAA;EAMlD,OAAOD,QAAQ,CAAC,CAAC,YAAY,EAAE;IAAEG;EAAG,CAAC,CAAC,EAAE,MACpCC,aAAa,CAACD,EAAE,CAAC,EAAE;IACfO,OAAO,EAAE,CAAC,CAACP;EACf,CAAC,CAAC;AACV,CAAC;AAAA,IAhBYD,iBAAiB;EAAA,QAYnBF,QAAQ;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}