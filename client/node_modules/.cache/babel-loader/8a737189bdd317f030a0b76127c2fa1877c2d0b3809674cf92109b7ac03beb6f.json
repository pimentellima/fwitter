{"ast":null,"code":"import moment from \"moment\";\nimport { request } from \"../utils/axios\";\nimport { uploadPostImg } from \"../utils/upload\";\nexport const createPost = async _ref => {\n  let {\n    data,\n    user_id,\n    parent_id\n  } = _ref;\n  const {\n    title,\n    description,\n    ingredients,\n    post_img\n  } = data;\n  const fileUrl = post_img && post_img[0] ? await uploadPostImg(post_img[0]) : '';\n  const postObj = {\n    user_id,\n    parent_id,\n    title,\n    description,\n    ingredients: JSON.stringify(ingredients),\n    date: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n    file: fileUrl\n  };\n  return await request.post('/single/', postObj);\n};\nexport const deletePost = async id => await request.delete('/single/', {\n  data: {\n    id\n  }\n});\nexport const getPostById = async id => request.get('/single', {\n  params: {\n    id\n  }\n}).then(res => {\n  const post = res.data[0];\n  return {\n    ...res.data[0],\n    ingredients: JSON.parse(post.ingredients),\n    date: moment(post.date).format('YYYY-MM-DD HH:mm:ss')\n  };\n});","map":{"version":3,"names":["moment","request","uploadPostImg","createPost","data","user_id","parent_id","title","description","ingredients","post_img","fileUrl","postObj","JSON","stringify","date","format","file","post","deletePost","id","delete","getPostById","get","params","then","res","parse"],"sources":["C:/Users/mathe/OneDrive/Documentos/vsc/fwitter/client/src/services/singleService.js"],"sourcesContent":["import moment from \"moment\";\r\nimport { request } from \"../utils/axios\";\r\nimport { uploadPostImg } from \"../utils/upload\";\r\n\r\nexport const createPost = async ({ data, user_id, parent_id }) => {\r\n    const { title, description, ingredients, post_img } = data;\r\n    const fileUrl = post_img && post_img[0] ? \r\n        await uploadPostImg(post_img[0]) : '';\r\n    const postObj = {\r\n        user_id,\r\n        parent_id,\r\n        title,\r\n        description,\r\n        ingredients: JSON.stringify(ingredients),\r\n        date: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\r\n        file: fileUrl\r\n    }\r\n    return await request.post('/single/', postObj);\r\n}\r\n\r\nexport const deletePost = async id => \r\n    await request.delete('/single/', {\r\n            data: { id }\r\n    })\r\n\r\nexport const getPostById = async id => \r\n    request.get('/single', {\r\n        params: { id }\r\n    }).then(res => {\r\n        const post = res.data[0];\r\n        return {\r\n            ...res.data[0], \r\n            ingredients: JSON.parse(post.ingredients),\r\n            date: moment(post.date).format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n})"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,OAAO,QAAQ,gBAAgB;AACxC,SAASC,aAAa,QAAQ,iBAAiB;AAE/C,OAAO,MAAMC,UAAU,GAAG,cAAwC;EAAA,IAAjC;IAAEC,IAAI;IAAEC,OAAO;IAAEC;EAAU,CAAC;EACzD,MAAM;IAAEC,KAAK;IAAEC,WAAW;IAAEC,WAAW;IAAEC;EAAS,CAAC,GAAGN,IAAI;EAC1D,MAAMO,OAAO,GAAGD,QAAQ,IAAIA,QAAQ,CAAC,CAAC,CAAC,GACnC,MAAMR,aAAa,CAACQ,QAAQ,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE;EACzC,MAAME,OAAO,GAAG;IACZP,OAAO;IACPC,SAAS;IACTC,KAAK;IACLC,WAAW;IACXC,WAAW,EAAEI,IAAI,CAACC,SAAS,CAACL,WAAW,CAAC;IACxCM,IAAI,EAAEf,MAAM,EAAE,CAACgB,MAAM,CAAC,qBAAqB,CAAC;IAC5CC,IAAI,EAAEN;EACV,CAAC;EACD,OAAO,MAAMV,OAAO,CAACiB,IAAI,CAAC,UAAU,EAAEN,OAAO,CAAC;AAClD,CAAC;AAED,OAAO,MAAMO,UAAU,GAAG,MAAMC,EAAE,IAC9B,MAAMnB,OAAO,CAACoB,MAAM,CAAC,UAAU,EAAE;EACzBjB,IAAI,EAAE;IAAEgB;EAAG;AACnB,CAAC,CAAC;AAEN,OAAO,MAAME,WAAW,GAAG,MAAMF,EAAE,IAC/BnB,OAAO,CAACsB,GAAG,CAAC,SAAS,EAAE;EACnBC,MAAM,EAAE;IAAEJ;EAAG;AACjB,CAAC,CAAC,CAACK,IAAI,CAACC,GAAG,IAAI;EACX,MAAMR,IAAI,GAAGQ,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC;EACxB,OAAO;IACH,GAAGsB,GAAG,CAACtB,IAAI,CAAC,CAAC,CAAC;IACdK,WAAW,EAAEI,IAAI,CAACc,KAAK,CAACT,IAAI,CAACT,WAAW,CAAC;IACzCM,IAAI,EAAEf,MAAM,CAACkB,IAAI,CAACH,IAAI,CAAC,CAACC,MAAM,CAAC,qBAAqB;EACxD,CAAC;AACT,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}